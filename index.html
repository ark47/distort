<!DOCTYPE html>
<html>
<head>
	<title>Distort</title>
	<link rel="stylesheet" type="text/css" href="styles/style.css">
	<link href="https://fonts.googleapis.com/css?family=Sunflower:500" rel="stylesheet">
	<script type="text/javascript" src="scripts/script.js"></script>
</head>

<!-- BODY[start] -->
<body>
	<div class="container">
		<div class="svg-container">

		<!-- SVG[start] -->
		<svg viewBox="0 0 400 400" preserveAspectRatio="xMidYMid meet">
				<!-- STAR -->
				<!-- <path d="M200.199,103.15c6.298,13.554,12.624,25.926,18.058,35.295c4.911,8.467,11.517,19.854,21.709,26.369
				c8.158,6.51,18.579,8.825,25.729,10.413c8.727,1.939,20.462,3.891,33.936,5.646c3.202,0.417,6.437,0.816,9.685,1.194
				c-36.114,33.502-43.167,49.342-45.015,57.422c-3.259,7.287-6.201,21.922,3.671,70.726c-28.896-16.127-50.238-24.292-63.545-24.295
				c-0.003,0-0.007,0-0.01,0c-1.282,0-2.55,0.063-3.798,0.188c-1.196-0.114-2.414-0.172-3.651-0.173c-13.326,0-34.7,8.259-63.64,24.576
				c9.666-48.894,6.658-63.478,3.378-70.732c-1.88-8.063-8.994-23.866-45.282-57.233c3.002-0.364,5.996-0.745,8.965-1.141
				c13.628-1.821,25.508-3.836,34.356-5.829c7.239-1.63,17.812-4.011,26.022-10.646c2.212-1.419,4.451-3.196,6.663-5.412
				C178,148.93,190.98,123.279,200.199,103.15 M200.005,12.583c0.04,23.682-46.82,127.635-56.878,127.635
				c-0.357,0-0.667-0.131-0.928-0.4c6.375,6.602-77.388,17.607-119.814,17.607c-8.179,0-14.823-0.409-18.987-1.337
				c25.766,5.745,115.414,87.702,103.145,94.294c0.33-0.177,0.633-0.264,0.911-0.264c10.084,0.001-12.897,113.436-28.329,137.299
				c14.083-21.776,98.979-71.481,117.841-71.481c2.378,0.001,3.707,0.79,3.712,2.525c-0.005-1.747,1.333-2.542,3.74-2.541
				c18.946,0.004,103.927,49.268,118.114,70.962c-15.564-23.801-39.056-137.171-28.928-137.171c0.276,0,0.58,0.086,0.908,0.26
				c-12.324-6.539,76.963-88.89,102.729-94.75c-4.353,0.99-11.411,1.424-20.107,1.424c-42.776,0-125.076-10.511-118.764-17.083
				c-0.262,0.272-0.574,0.405-0.935,0.405C247.337,139.967,200.044,36.259,200.005,12.583L200.005,12.583z"/> -->
			
				<!-- OCTAGON -->
				<!-- <path d="M258.287,99.045C261.893,92.8,323.784,200,316.573,200c7.211,0-54.681,107.2-58.286,100.956
				c3.605,6.244-120.179,6.244-116.574,0C138.108,307.2,76.216,200,83.427,200c-7.211,0,54.681-107.2,58.287-100.955
				C138.108,92.8,261.893,92.8,258.287,99.045 M286.288,50.545c5.338-9.245-177.914-9.245-172.576,0
				C108.374,41.3,16.749,200,27.424,200c-10.675,0,80.95,158.7,86.288,149.456c-5.338,9.244,177.914,9.244,172.576,0
				C291.626,358.7,383.252,200,372.576,200C383.252,200,291.626,41.3,286.288,50.545C291.626,41.3,291.626,41.3,286.288,50.545z"/> -->
			
				<!-- CIRCLE -->
				<path d="M200,75c33.389,0,64.778,13.002,88.388,36.612C311.998,135.221,325,166.611,325,200s-13.002,64.778-36.612,88.388
				C264.778,311.998,233.389,325,200,325s-64.779-13.002-88.388-36.612C88.002,264.778,75,233.389,75,200s13.002-64.779,36.612-88.388
				S166.611,75,200,75 M200,25c-96.65,0-175,78.35-175,175c0,96.649,78.35,175,175,175c96.649,0,175-78.351,175-175
				C375,103.35,296.649,25,200,25L200,25z"/>
				
				<!-- SQUARE -->
				<!-- <path d="M331.32,68.68c5.359-5.36,5.359,268,0,262.64c5.359,5.359-268,5.359-262.64,0c-5.36,5.359-5.36-268,0-262.64
				C63.32,63.32,336.68,63.32,331.32,68.68 M380.32,19.68c7.359-7.36-368-7.36-360.64,0c-7.36-7.36-7.36,368,0,360.64
				c-7.36,7.359,368,7.359,360.64,0C387.68,387.68,387.68,12.32,380.32,19.68C387.68,12.32,387.68,12.32,380.32,19.68z"/> -->
			
				<!-- TRIANGLE -->
				<!-- <path d="M43.132,363.239l-26.111-30.3c11.035-9.557,46.002-60.279,91.485-138.733c47.485-81.908,70.71-132.411,72.036-142.111
				c0,0,0,0,0,0c0,0,0,0,0,0c-0.002,0.015-0.042,0.321-0.042,0.847h40c0-0.525-0.04-0.832-0.042-0.846c0,0,0,0,0,0c0,0,0,0,0,0
				c1.325,9.7,24.551,60.203,72.036,142.111c45.482,78.454,80.449,129.176,91.484,138.733l-26.187,30.236l0.075,0.063
				c-0.358-0.276-9.289-6.823-53.441-11.931c-28.903-3.344-65.812-5.186-103.926-5.186c-38.115,0-75.023,1.842-103.927,5.186
				C52.421,356.416,43.49,362.963,43.132,363.239z M200.5,108.133c-1.248,2.565-2.57,5.251-3.974,8.068
				c-13.075,26.231-31.271,59.721-51.234,94.299c-7.9,13.684-36.434,62.632-62.956,102.274c2.615-0.351,5.34-0.694,8.172-1.029
				c30.637-3.625,69.699-5.622,109.993-5.622c40.293,0,79.355,1.997,109.992,5.622c2.832,0.335,5.557,0.679,8.172,1.029
				c-26.522-39.643-55.056-88.591-62.956-102.274c-19.964-34.578-38.158-68.067-51.233-94.299
				C203.07,113.384,201.747,110.699,200.5,108.133z"/> -->
			
				<!-- CLOVER -->
				<!-- <path d="M200,80c39.083,0,70.88,31.796,70.88,70.88c0,2.491-0.145,5.092-0.429,7.731l-3.189,29.591l27.426,11.557
				c26.36,11.108,43.393,36.763,43.393,65.361c0,39.083-31.797,70.88-70.88,70.88c-15.658,0-30.504-5.014-42.933-14.5L200,302.979
				l-24.268,18.522C163.304,330.986,148.458,336,132.8,336c-39.083,0-70.88-31.797-70.88-70.88c0-28.598,17.032-54.253,43.392-65.361
				l27.424-11.556l-3.187-29.588c-0.284-2.642-0.429-5.245-0.429-7.736C129.12,111.796,160.917,80,200,80 M200,40
				C138.763,40,89.12,89.643,89.12,150.88c0,4.063,0.233,8.069,0.659,12.019C49.91,179.699,21.92,219.14,21.92,265.12
				C21.92,326.357,71.563,376,132.8,376c25.271,0,48.553-8.47,67.2-22.702C218.648,367.53,241.931,376,267.2,376
				c61.237,0,110.88-49.643,110.88-110.88c0-45.98-27.99-85.421-67.859-102.222c0.426-3.949,0.659-7.956,0.659-12.019
				C310.88,89.643,261.237,40,200,40L200,40z"/> -->
			
				<!-- DIAMOND -->
				<!-- <path d="M200,63.452c13.632,13.023,26.382,28.708,38.091,46.884c16.911,26.251,30.787,56.369,41.323,89.664
				c-10.536,33.296-24.412,63.413-41.323,89.664c-11.71,18.178-24.458,33.86-38.091,46.884c-13.633-13.023-26.38-28.706-38.091-46.884
				c-16.911-26.251-30.788-56.369-41.324-89.664c10.536-33.295,24.413-63.413,41.324-89.664C173.619,92.16,186.369,76.475,200,63.452
				 M200,11.864C146.331,49.152,102.823,116.689,78.802,200C102.823,283.312,146.331,350.848,200,388.135
				C253.67,350.848,297.177,283.312,321.198,200C297.177,116.689,253.67,49.152,200,11.864L200,11.864z"/> -->
			
				<!-- CROSS -->
				<!-- <path d="M375.91,171.325c7.18-1.171-146.065-1.171-147.235,0c1.17-1.171,1.17-154.415,0-147.235c1.17-7.18-58.521-7.18-57.35,0
				c-1.171-7.18-1.171,146.064,0,147.235c-1.171-1.171-154.415-1.171-147.235,0c-7.18-1.171-7.18,58.52,0,57.35
				c-7.18,1.17,146.064,1.17,147.235,0c-1.171,1.17-1.171,154.415,0,147.235c-1.171,7.18,58.52,7.18,57.35,0
				c1.17,7.18,1.17-146.065,0-147.235c1.17,1.17,154.415,1.17,147.235,0C383.09,229.845,383.09,170.154,375.91,171.325z"/> -->
		</svg>
		<!-- SVG[end] -->

		</div>
		<h2 class="btn" onclick="distort()">Distort</h2>
		<h2 class="btn" value="Refresh Page" onclick="window.location.href=window.location.href">Refresh</h2>
		<div class="user-control">
			<h3>Coordinates to Distort: <input type="text" id="user-input" onchange="userI()"></h3>
			<h3>Distortion Variance:</h3>
			<h3 class="mild" onclick="mild()">Mild</h3>
			<h3 class="medium" onclick="medium()">Medium</h3>
			<h3 class="extreme" onclick="extreme()">Extreme</h3>
			<!-- <h3 class="custom">Custom: <input type="text" id="user-variance" onchange=""></h3> -->
		</div>
	</div>
</body>
<!-- BODY[end] -->

<script>

	let mildAdd = document.getElementsByClassName('mild')[0];
	let mediumAdd = document.getElementsByClassName('medium')[0];
	let extremeAdd = document.getElementsByClassName('extreme')[0];

	/*  ______
	Notifies the user of how many coordinates of the svg will be distorted.
		______*/

	document.getElementById("user-input").value = userInput;

	/*  ______
		This selects all child tags of the <svg> tag. 
		It does NOT select the svg coordinates/attributes.
		______*/

	let svg = document.querySelector('svg').childNodes;
	
	/* 	______
		The distort() function defines the path attribute/coordinates as a variable.
		Then it is split into an array followed up with a forEach on it with randomizer()
		as an argument. It's joined together into a single string.
		Finally, the original <path> attribute with the new path coordinates.
		______*/

	function distort() {
		
		for (let i = 0; i < svg.length; i++) {
			if (svg[i].nodeName === "path") {
				let d = svg[i].getAttribute('d');
				d = d.split(',');
				d.forEach(cleaner);
				d.some(randomizer);
				d = d.join(',');
				svg[i].setAttribute("d", d);
				counter = 0;
				iRay = [];
			}
		}

	}
	
</script>

</html>